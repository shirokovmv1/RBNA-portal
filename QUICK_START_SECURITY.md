# Быстрый старт после улучшений безопасности

## Установка зависимостей

После обновления кода необходимо установить новую зависимость:

```bash
cd backend
pip install -r requirements.txt
```

Это установит `python-dotenv`, необходимый для загрузки переменных окружения из `.env` файла.

## Настройка .env файла (опционально)

Для прототипа код будет работать и без `.env` файла (используются значения по умолчанию).

Для настройки:

1. **Скопируйте шаблон:**
```bash
cd backend
cp .env.example .env
```

2. **Отредактируйте .env** (при необходимости):
```bash
# Для прототипа можно оставить значения по умолчанию
# Для production ОБЯЗАТЕЛЬНО измените SECRET_KEY!
```

## Запуск

После установки зависимостей все работает как раньше:

```bash
cd backend
python manage.py runserver
```

## Что изменилось?

### ✅ Улучшения (не ломают существующий функционал):

1. **Переменные окружения** - теперь можно настраивать через `.env`
2. **Валидация данных** - добавлена проверка входных данных
3. **Структура аутентификации** - готова для добавления настоящей аутентификации
4. **Безопасные настройки** - улучшены CORS и security headers

### ✅ Обратная совместимость:

- Код работает без `.env` файла
- Если `python-dotenv` не установлен, используются системные переменные окружения
- Все значения по умолчанию сохранены
- Прототип продолжает работать как раньше

## Проверка работы

После установки зависимостей проверьте:

```bash
cd backend
python manage.py check
```

Должно вывести: "System check identified no issues (0 silenced)."

## Для production

Когда будете готовы к production:

1. Создайте `.env` с production значениями
2. Установите `DEBUG=False` в `.env`
3. Сгенерируйте новый `SECRET_KEY`
4. Замените `AllowAny` на `IsAuthenticated` в ViewSets
5. Настройте HTTPS

Подробные инструкции в `SECURITY_IMPROVEMENTS.md`.
